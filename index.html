<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡¶≠‡ßã‡¶ü‡¶æ‡¶∞-‡¶Ö‡¶®‡ßÅ‡¶∏‡¶®‡ßç‡¶ß‡¶æ‡¶®</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
<button id="noticeBtn" class="notice-button">
    ‚ö†Ô∏è ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®
</button>

<div id="noticeModal" class="modal">
    <div class="modal-content">
        <span class="close-btn">&times;</span>
        <div class="modal-header">
            <h3>üì¢ ‡¶¨‡¶ø‡¶∂‡ßá‡¶∑ ‡¶ò‡ßã‡¶∑‡¶£‡¶æ</h3>
        </div>
        <div class="modal-body">
            <p>‡¶§‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶¶‡¶∂ ‡¶ú‡¶æ‡¶§‡ßÄ‡¶Ø‡¶º ‡¶∏‡¶Ç‡¶∏‡¶¶ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶®_ ‡¶è‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶≠‡ßã‡¶ü‡¶æ‡¶∞ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ ..‡ß®‡ß´-‡¶ï‡ßÅ‡¶°‡¶º‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ-‡ß¶‡ßß ‡¶®‡¶æ‡¶ó‡ßá‡¶∂‡ßç‡¶¨‡¶∞‡ßÄ, ‡¶¨‡¶æ‡¶Æ‡¶®‡¶°‡¶æ‡¶ô‡ßç‡¶ó‡¶æ, ‡¶ï‡ßÅ‡¶ü‡¶ø‡¶∞ ‡¶ö‡¶∞ ‡ß¶‡ß≠ ‡¶®‡¶Ç ‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶°</p>
            <ul>
                <li>‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶®‡ßÄ ‡¶è‡¶≤‡¶æ‡¶ï‡¶æ: ‡¶ï‡ßÅ‡¶ü‡¶ø‡¶∞ ‡¶ö‡¶∞</li>
                <li>‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‚Ä¢‡¶Æ‡¶æ‡¶≤‡¶ø‡¶Ø‡¶º‡¶æ‡¶®‡ßÄ
                ‚Ä¢‡¶§‡ßá‡¶≤‡¶ø‡¶Ø‡¶º‡¶æ‡¶®‡ßÄ ‡¶™‡ßÇ‡¶∞‡ßç‡¶¨: ‡¶è‡¶á ‡¶è‡¶≤‡¶æ‡¶ï‡¶∞ ‡¶≠‡ßã‡¶ü‡¶æ‡¶∞‡¶¶‡ßá‡¶∞ ‡¶§‡¶•‡ßç‡¶Ø ‡¶™‡¶æ‡¶¨‡ßá‡¶® ‡¶®‡¶æ‡•§ </li>
            </ul>
        </div>

    </div>
</div>

<div class="container">
    <div class="header-section">
        <img src="https://amardaripalla.com/media/Daripalla_logo.png" alt="EC Logo" class="ec-logo">
        
        
        <p class="election-title">‡¶§‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶¶‡¶∂ ‡¶ú‡¶æ‡¶§‡ßÄ‡¶Ø‡¶º ‡¶∏‡¶Ç‡¶∏‡¶¶ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡ß®‡ß¶‡ß®‡ß¨</p>
        <h2>‡¶≠‡ßã‡¶ü‡¶æ‡¶∞ ‡¶∏‡¶ø‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ‡¶≤ ‡¶Ö‡¶®‡ßÅ‡¶∏‡¶®‡ßç‡¶ß‡¶æ‡¶®</h2>
    </div>
    
    <div class="search-card">
        <div class="field-group">
            <label>‡¶á‡¶â‡¶®‡¶ø‡ßü‡¶® ‡¶ì ‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶°</label>
            <div class="input-row">
                <select id="union">
                    <option value="‡¶¨‡¶æ‡¶Æ‡¶®‡¶°‡¶æ‡¶ô‡ßç‡¶ó‡¶æ">‡¶¨‡¶æ‡¶Æ‡¶®‡¶°‡¶æ‡¶ô‡ßç‡¶ó‡¶æ</option>
                    <option value="‡¶∞‡¶æ‡¶Ø‡¶º‡¶ó‡¶û‡ßç‡¶ú">‡¶∞‡¶æ‡¶Ø‡¶º‡¶ó‡¶û‡ßç‡¶ú</option>
                </select>
                <select id="ward">
                    <option value="1">‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡ßß</option>
                    <option value="2">‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡ß®</option>
                    <option value="3">‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡ß©</option>
                    <option value="4">‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡ß™</option>
                    <option value="5">‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡ß´</option>
                    <option value="6">‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡ß¨</option>
                    <option value="7">‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡ß≠</option>
                    <option value="8">‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡ßÆ</option>
                    <option value="9">‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡ßØ</option>
                </select>
            </div>
        </div>

        <div class="field-group">
            <label>‡¶≤‡¶ø‡¶ô‡ßç‡¶ó ‡¶ì ‡¶Ö‡¶®‡ßÅ‡¶∏‡¶®‡ßç‡¶ß‡¶æ‡¶®</label>
            <div class="input-row">
                <select id="gender" style="flex: 1.2;">
                    <option value="‡¶∏‡¶¨">üë• ‡¶∏‡¶¨</option>
                    <option value="‡¶™‡ßÅ‡¶∞‡ßÅ‡¶∑">üë§ ‡¶™‡ßÅ‡¶∞‡ßÅ‡¶∑</option>
                    <option value="‡¶®‡¶æ‡¶∞‡ßÄ">üßï ‡¶®‡¶æ‡¶∞‡ßÄ</option>
                </select>
                <input type="text" id="searchInput" placeholder="üîé ‡¶®‡¶æ‡¶Æ ‡¶¨‡¶æ ‡¶∏‡¶æ‡¶≤" style="flex: 2;" onkeypress="if(event.key==='Enter') searchVoter()">
            </div>
        </div>
        <button class="search-btn" onclick="searchVoter()">üîÑ ‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®</button>
    </div>

    <div id="resultArea"></div>
</div>

<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>

<script>
    const firebaseConfig = {
        apiKey: "AIzaSyAzGK_y9kx5oVFL1-rGTnSDxDvdYoVIqOg",
        authDomain: "bmkf-donation-system.firebaseapp.com",
        databaseURL: "https://bmkf-donation-system-default-rtdb.asia-southeast1.firebasedatabase.app",
        projectId: "bmkf-donation-system",
        storageBucket: "bmkf-donation-system.firebasestorage.app",
        messagingSenderId: "718912081844",
        appId: "1:718912081844:web:98d102b1a6dc07464cace1"
    };
    firebase.initializeApp(firebaseConfig);
    const database = firebase.database();

    function searchVoter() {
        const union = document.getElementById('union').value;
        const ward = document.getElementById('ward').value;
        const gender = document.getElementById('gender').value;
        const query = document.getElementById('searchInput').value.trim();
        const resultArea = document.getElementById('resultArea');

        if (!query) { alert("‚ö†Ô∏è ‡¶®‡¶æ‡¶Æ ‡¶¨‡¶æ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®!"); return; }
        
        resultArea.innerHTML = `<div class="loader-container"><div class="spinner"></div><span>‡¶ñ‡ßã‡¶Å‡¶ú‡¶æ ‡¶π‡¶ö‡ßç‡¶õ‡ßá...</span></div>`;

        database.ref('voters/' + union + '/ward_' + ward).once('value', (snapshot) => {
            resultArea.innerHTML = "";
            let htmlContent = "";

            if (snapshot.exists()) {
                snapshot.forEach((genderNode) => {
                    if (gender === "‡¶∏‡¶¨" || genderNode.key === gender) {
                        genderNode.forEach((voterNode) => {
                            const data = voterNode.val();
                            if (data.name.toLowerCase().includes(query.toLowerCase()) || data.dob.includes(query)) {
                                htmlContent += `
                                    <div class="voter-card ${data.gender}">
                                        <div class="gender-badge">${data.gender === '‡¶™‡ßÅ‡¶∞‡ßÅ‡¶∑' ? '‚ôÇ' : '‚ôÄ'} ${data.gender}</div>
                                        <span class="name-tag">${data.serial}. ${data.name}</span>
                                        <div class="info-grid">
                                            <div class="info"><b>‡¶≠‡ßã‡¶ü‡¶æ‡¶∞ ‡¶Ü‡¶á‡¶°‡¶ø</b>${data.voter_id}</div>
                                            <div class="info"><b>‡¶ú‡¶®‡ßç‡¶Æ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ</b>${data.dob}</div>
                                            <div class="info"><b>‡¶™‡¶ø‡¶§‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ</b>${data.father}</div>
                                            <div class="info"><b>‡¶Æ‡¶æ‡¶§‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ</b>${data.mother}</div>
                                        </div>
                                        <div class="address-box">
                                            <b>‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ:</b> ${data.address}
                                        </div>
                                    </div>`;
                            }
                        });
                    }
                });
                resultArea.innerHTML = htmlContent || "<div class='no-result'>‡¶¶‡ßÅ‡¶É‡¶ñ‡¶ø‡¶§, ‡¶ï‡ßã‡¶®‡ßã ‡¶Æ‡¶ø‡¶≤ ‡¶™‡¶æ‡¶ì‡ßü‡¶æ ‡¶Ø‡¶æ‡ßü‡¶®‡¶ø!</div>";
            } else {
                resultArea.innerHTML = "<div class='no-result'>‡¶ï‡ßã‡¶®‡ßã ‡¶§‡¶•‡ßç‡¶Ø ‡¶®‡ßá‡¶á‡•§</div>";
            }
        });
    }
   const modal = document.getElementById("noticeModal");
const btn = document.getElementById("noticeBtn");
const span = document.querySelector(".close-btn");

// ‡¶¨‡¶æ‡¶ü‡¶® ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡¶≤‡ßá ‡¶™‡¶™-‡¶Ü‡¶™ ‡¶ñ‡ßÅ‡¶≤‡¶¨‡ßá
btn.onclick = function() {
    modal.style.display = "block";
}

// (x) ‡¶¨‡¶æ‡¶ü‡¶®‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡¶≤‡ßá ‡¶¨‡¶®‡ßç‡¶ß ‡¶π‡¶¨‡ßá
span.onclick = function() {
    modal.style.display = "none";
}

// ‡¶™‡¶™-‡¶Ü‡¶™‡ßá‡¶∞ ‡¶®‡¶ø‡¶ö‡ßá‡¶∞ ‡¶¨‡¶æ‡¶ü‡¶®‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡¶≤‡ßá ‡¶¨‡¶®‡ßç‡¶ß ‡¶π‡¶¨‡ßá
function closeModal() {
    modal.style.display = "none";
}

// ‡¶™‡¶™-‡¶Ü‡¶™‡ßá‡¶∞ ‡¶¨‡¶æ‡¶á‡¶∞‡ßá ‡¶ï‡ßã‡¶•‡¶æ‡¶ì ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡¶≤‡ßá ‡¶¨‡¶®‡ßç‡¶ß ‡¶π‡¶¨‡ßá
window.onclick = function(event) {
    if (event.target == modal) {
        modal.style.display = "none";
    }
}
 
    
</script>
</body>
</html>
